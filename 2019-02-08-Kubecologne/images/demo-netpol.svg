<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="535px" preserveAspectRatio="none" style="width:763px;height:535px;" version="1.1" viewBox="0 0 763 535" width="763px" zoomAndPan="magnify"><defs><filter height="300%" id="ft85kx4ud420y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Cluster Network Policies--><polygon fill="#FFFFFF" filter="url(#ft85kx4ud420y)" points="22,123,32,113,741,113,741,513,731,523,22,523,22,123" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="731" x2="740" y1="123" y2="114"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="731" y1="123" y2="123"/><line style="stroke: #000000; stroke-width: 1.5;" x1="731" x2="731" y1="123" y2="523"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="194" x="280.5" y="138.9951">Cluster Network Policies</text><!--cluster Namespace 'kube-system'--><polygon fill="#FFFFFF" filter="url(#ft85kx4ud420y)" points="226,161,438,161,445,183.2969,448,183.2969,448,248,226,248,226,161" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="226" x2="445" y1="183.2969" y2="183.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="230" y="175.9951">Namespace 'kube-system'</text><!--cluster Namespace 'default'--><polygon fill="#FFFFFF" filter="url(#ft85kx4ud420y)" points="46,297,211,297,218,319.2969,221,319.2969,221,384,46,384,46,297" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="218" y1="319.2969" y2="319.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="50" y="311.9951">Namespace 'default'</text><!--cluster Namespace 'monitoring'--><polygon fill="#FFFFFF" filter="url(#ft85kx4ud420y)" points="512,297,707,297,714,319.2969,717,319.2969,717,384,512,384,512,297" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="512" x2="714" y1="319.2969" y2="319.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="189" x="516" y="311.9951">Namespace 'monitoring'</text><!--cluster Namespace 'production'--><polygon fill="#FFFFFF" filter="url(#ft85kx4ud420y)" points="245,297,441,297,448,319.2969,488,319.2969,488,499,245,499,245,297" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="245" x2="448" y1="319.2969" y2="319.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="190" x="249" y="311.9951">Namespace 'production'</text><!--entity Traefik--><rect fill="#23A3DD" filter="url(#ft85kx4ud420y)" height="36.2969" style="stroke: #16688D; stroke-width: 1.5;" width="66" x="304" y="196"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="299" y="201"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="299" y="222.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="314" y="218.9951">Traefik</text><!--entity Web Console--><rect fill="#23A3DD" filter="url(#ft85kx4ud420y)" height="36.2969" style="stroke: #16688D; stroke-width: 1.5;" width="112" x="67" y="332"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="62" y="337"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="62" y="358.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="77" y="354.9951">Web Console</text><!--entity Prometheus--><rect fill="#23A3DD" filter="url(#ft85kx4ud420y)" height="36.2969" style="stroke: #16688D; stroke-width: 1.5;" width="105" x="528.5" y="332"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="523.5" y="337"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="523.5" y="358.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="538.5" y="354.9951">Prometheus</text><!--entity nosqlclient--><rect fill="#23A3DD" filter="url(#ft85kx4ud420y)" height="36.2969" style="stroke: #16688D; stroke-width: 1.5;" width="95" x="261.5" y="332"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="256.5" y="337"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="256.5" y="358.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="271.5" y="354.9951">nosqlclient</text><!--entity mongodb--><rect fill="#23A3DD" filter="url(#ft85kx4ud420y)" height="36.2969" style="stroke: #16688D; stroke-width: 1.5;" width="87" x="322.5" y="447"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="317.5" y="452"/><rect fill="#23A3DD" height="5" style="stroke: #16688D; stroke-width: 1.5;" width="10" x="317.5" y="473.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="332.5" y="469.9951">mongodb</text><!--entity LB--><ellipse cx="337" cy="37" fill="#23A3DD" filter="url(#ft85kx4ud420y)" rx="8" ry="8" style="stroke: #16688D; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="318.5" y="66.9951">HTTP</text><!--link LB to Traefik--><path d="M337,46.441 C337,72.447 337,151.941 337,190.946 " fill="none" id="LB-Traefik" style="stroke: #23A3DD; stroke-width: 1.0;"/><polygon fill="#23A3DD" points="337,195.947,341,186.947,337,190.947,333,186.947,337,195.947" style="stroke: #23A3DD; stroke-width: 1.0;"/><!--link Traefik to Web Console--><path d="M303.809,214.376 C262.165,215.434 191.116,223.612 149,264 C131.998,280.305 126.028,307.387 123.978,326.597 " fill="none" id="Traefik-Web Console" style="stroke: #23A3DD; stroke-width: 1.0;"/><polygon fill="#23A3DD" points="123.498,331.791,128.3091,323.1972,123.958,326.8122,120.343,322.4612,123.498,331.791" style="stroke: #23A3DD; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="150" y="277.0669">web-console:80</text><!--link Traefik to Prometheus--><path d="M349.601,232.102 C362.213,247.773 383.134,270.135 407,281 C439.924,295.989 453.844,277.083 488,289 C513.254,297.811 538.542,314.781 556.359,328.431 " fill="none" id="Traefik-Prometheus" style="stroke: #23A3DD; stroke-width: 1.0;"/><polygon fill="#23A3DD" points="560.724,331.823,556.0736,323.1412,556.7765,328.7542,551.1635,329.4571,560.724,331.823" style="stroke: #23A3DD; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="408" y="277.0669">prometheus-server:80</text><!--link Prometheus to Traefik--><path d="M580.836,331.688 C579.678,312.379 574.753,281.556 556,264 C530.237,239.882 431.27,225.361 375.605,218.931 " fill="none" id="Prometheus-Traefik" style="stroke: #23A3DD; stroke-width: 1.0;"/><polygon fill="#23A3DD" points="370.357,218.334,378.8466,223.3267,375.3249,218.8998,379.7518,215.3781,370.357,218.334" style="stroke: #23A3DD; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="568" y="277.0669">traefik:8080/metrics</text><!--link Traefik to nosqlclient--><path d="M303.865,227.399 C287.857,235.266 270.167,247.183 261,264 C249.01,285.996 266.871,310.931 284.107,328.076 " fill="none" id="Traefik-nosqlclient" style="stroke: #23A3DD; stroke-width: 1.0;"/><polygon fill="#23A3DD" points="287.994,331.828,284.2956,322.6999,284.3962,328.3559,278.7402,328.4564,287.994,331.828" style="stroke: #23A3DD; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="262" y="277.0669">nosqlclient:3000</text><!--link nosqlclient to mongodb--><path d="M310.498,368.077 C312.258,381.901 316.025,401.545 324,417 C328.916,426.527 336.221,435.646 343.365,443.2729 " fill="none" id="nosqlclient-mongodb" style="stroke: #23A3DD; stroke-width: 1.0;"/><polygon fill="#23A3DD" points="346.849,446.8927,343.4907,437.6341,343.382,443.2899,337.7262,443.1812,346.849,446.8927" style="stroke: #23A3DD; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="325" y="413.0669">mongodb:/mongodb:27017</text><!--link Prometheus to mongodb--><path d="M564.71,368.262 C550.032,382.957 527.246,403.739 504,417 C476.164,432.88 442.104,444.5493 414.787,452.2882 " fill="none" id="Prometheus-mongodb" style="stroke: #23A3DD; stroke-width: 1.0;"/><polygon fill="#23A3DD" points="409.768,453.6876,419.5116,455.1235,414.5843,452.3447,417.363,447.4174,409.768,453.6876" style="stroke: #23A3DD; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="529" y="413.0669">mongodb:9104/metrics</text><!--
@startuml
skinparam interface {
  BackgroundColor #23a3dd
  BorderColor #16688d
}

skinparam arrow {
  Color #23a3dd
}

skinparam component {
  BackgroundColor #23a3dd
  BorderColor #16688d
  FontColor #FFFFFF
}


interface "HTTP" as LB

node "Cluster Network Policies" {

  package "Namespace 'kube-system'" {
    [Traefik] as "Traefik"
    [LB] - -> [Traefik]
  }

  package "Namespace 'default'" {
    [Web Console]
    [Traefik] - -> [Web Console] : web-console:80
  }

  package "Namespace 'monitoring'" {
    [Prometheus]
    [Traefik] - -> [Prometheus] : prometheus-server:80
    [Prometheus] - -> [Traefik] : traefik:8080/metrics
  }

  package "Namespace 'production'" {
    [nosqlclient]
    [Traefik] - -> [nosqlclient] : nosqlclient:3000
    [nosqlclient] - -> [mongodb] : mongodb:/mongodb:27017
    [Prometheus] - -> [mongodb]  : mongodb:9104/metrics

  }
}
@enduml

PlantUML version 1.2019.00(Sun Jan 13 15:46:42 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>